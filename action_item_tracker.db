# File contains Data Definition Language for the the Database

import sqlit3

conn = sqlite3.connect("action_item_tracker.db")
cursor = conn.cursor()

cursor.execute(
	"""
	CREATE TABLE IF NOT EXISTS meetings(
		id INTEGER PRIMARY KEY AUTOINCREMENT,
		name TEXT,
		date DATE
	)
	"""

)
cursor.execute(
	"""
	CREATE TABLE IF NOT EXISTS action_item(
		id INTEGER PRIMARY KEY AUTOINCREMENT,
		meeting_id INTEGER,
		item TEXT,
		completion TEXT,
		notes TEXT,
		owner_id INT,
		FOREIGN KEY meeting_id REFERENCES meeting(id),
		FOREIGN KEY owner_id REFERENCES users(id)
	)
	"""
)

cursor.execute(
	"""
	CREATE TABLE IF NOT EXISTS users(
		id INTEGER PRIMARY KEY AUTOINCREMENT,
		name TEXT
	)
	"""
)

cursor.execute(
	"""
	CREATE TABLE IF NOT EXISTS user_meetings(
		user_id INTEGER PRIMARY KEY AUTOINCREMENT, 
		meeting_id INTEGER PRIMARY KEY AUTOINCREMENT,
		FOREIGN KEY (user_id) references users(id),
		FOREIGN KEY (meeting_id) references meetings(id)
	)
	"""
)

conn.commit()
conn.close()


